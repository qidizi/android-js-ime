<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset='UTF-8'>
    <meta name='viewport'
          content='width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0'>
    <meta http-equiv='X-UA-Compatible' content='ie=edge'>
    <title>出错引导</title>
    <style>
        html, body {
            width: 100%;
            height: 100%;
            display: block;
            min-height: 200px;
            word-break: break-word;
            background-color: darkgray;
        }
    </style>
</head>
<body>
<div id="app">
    <h1>出错了！</h1>
    <div>
        错误码：{{error_code}}<br>
        无法加载URL：{{error_url}}<br>
        <p v-html="error_msg"></p>
    </div>
    <p v-if="default_path">
        <a :href="default_path">
            尝试加载内置html：{{default_path}}
        </a>
    </p>
    <p v-if="user_path">
        <a :href="user_path">
            尝试加载你的html：{{user_path}}
        </a>
    </p>
</div>
<script src="vue.js"></script>
<script>
    new Vue({
        el: "#app",
        data: {
            default_path: '',
            user_path: '',
            error_code: 0,
            error_msg: '',
            error_url: ''
        },
        mounted() {
            let qs = location.search.match(/([^=&?]+=[^&?=]+)/g);
            if (!qs) return;
            let vm = this;

            qs.forEach(function (v, i) {
                v = v.split('=');
                vm[v[0]] = decodeURIComponent(v[1]);
            });
        },
        methods: {}
    });
</script>
</body>
</html>